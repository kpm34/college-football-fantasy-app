%% CFB Fantasy - Site Map (Web Active)
%% Generated: 2025-09-10T14:19:14Z
flowchart TD
  %% Color classes
  classDef public fill:#FFF7E6,stroke:#D97706,color:#78350F,stroke-width:1px;
  classDef auth fill:#E0F2FE,stroke:#0284C7,color:#0C4A6E,stroke-width:1px;
  classDef user fill:#ECFEFF,stroke:#06B6D4,color:#164E63,stroke-width:1px;
  classDef league fill:#F5F3FF,stroke:#7C3AED,color:#312E81,stroke-width:1px;
  classDef commish fill:#ECFDF5,stroke:#10B981,color:#064E3B,stroke-width:1px;
  classDef admin fill:#F3F4F6,stroke:#6B7280,color:#111827,stroke-width:1px;
  classDef content fill:#FFE4E6,stroke:#F43F5E,color:#881337,stroke-width:1px;

  %% ===== Public =====
  subgraph Public
    direction TB
    root["/ (Landing)"]:::public
    conf["/conference-showcase"]:::public
    proj["/projection-showcase"]:::public
    videos["/videos"]:::content
    videosProgram["/videos/[program]"]:::content
    launch["/launch"]:::public
    offline["/offline"]:::public
  end

  %% ===== Auth =====
  subgraph Auth
    direction TB
    login["/login"]:::auth
    signup["/signup"]:::auth
    authCallback["/auth/callback (OAuth)"]:::auth
  end

  %% ===== Join / Invite =====
  subgraph Join_Invite["Join / Invite"]
    direction TB
    leagueJoin["/league/join"]:::public
    invite["/invite/[leagueId]"]:::public
  end

  %% ===== Dashboard =====
  subgraph Dashboard
    direction TB
    dash["/dashboard"]:::user
    acct["/account-settings"]:::user
    score["/scoreboard"]:::user
    standings["/standings"]:::user
  end

  %% ===== League =====
  subgraph League
    direction TB
    leagueHome["/league/[leagueId]"]:::league
    locker["/league/[leagueId]/locker-room"]:::league
    schedule["/league/[leagueId]/schedule"]:::league
    scoreboardL["/league/[leagueId]/scoreboard"]:::league
    standingsL["/league/[leagueId]/standings"]:::league
    settings["/league/[leagueId]/commissioner"]:::commish
    createLeague["/league/create"]:::league
    joinLeague["/league/join"]:::league
  end

  %% ===== Draft =====
  subgraph Draft
    direction TB
    draft["/draft/[leagueId]"]:::league
  end

  %% ===== Admin =====
  subgraph Admin
    direction TB
    adminRoot["/admin"]:::admin
    adminDiagrams["/admin/diagrams"]:::admin
    adminSiteMap["/admin/diagrams/site-map"]:::admin
    adminProjMap["/admin/diagrams/project-map"]:::admin
    adminSysArch["/admin/diagrams/system-architecture"]:::admin
    adminFlows["/admin/diagrams/functional-flow"]:::admin
    adminDraft["/admin/diagrams/draft"]:::admin
    adminCache["/admin/cache-status"]:::admin
    adminSync["/admin/sync-status"]:::admin
    adminSurvey["/admin/sec-survey"]:::admin
    adminPV["/admin/product-vision"]:::admin
  end

  %% ===== API (summary only) =====
  subgraph API_Summary["API (summary)"]
    direction TB
    apiAuth["/api/auth/*"]
    apiLeagues["/api/leagues/*"]
    apiDrafts["/api/drafts/*"]
    apiPlayers["/api/players/*"]
    apiGames["/api/games/*"]
    apiRankings["/api/rankings/*"]
    apiAdmin["/api/admin/*"]
    apiCron["/api/cron/*"]
    apiDocs["/api/docs/*"]
    apiExternal["/api/{blender|meshy|runway}/*"]
  end

  %% ===== Key flows / redirects =====
  root --> login
  root --> leagueJoin
  login -. redirect if session .-> dash
  signup --> dash
  authCallback --> dash
  invite -. server redirect .-> leagueJoin
  dash --> leagueHome
  leagueHome --> draft
  leagueHome --> locker
  joinLeague --> leagueHome
  createLeague --> leagueHome
