# GitHub Secrets Setup Guide

## Required GitHub Secrets

These secrets need to be added to your GitHub repository for workflows to run properly.

### How to Add Secrets

1. Go to your repository on GitHub
2. Click on **Settings** tab
3. Navigate to **Secrets and variables** → **Actions**
4. Click **New repository secret**
5. Add each secret below

### Required Secrets

#### 1. CFBD_API_KEY
- **Description**: College Football Data API Key
- **Value**: Get from https://collegefootballdata.com/
- **Used for**: Syncing teams, players, games, and rankings

#### 2. APPWRITE_ENDPOINT
- **Description**: Appwrite server endpoint
- **Value**: `https://nyc.cloud.appwrite.io/v1`
- **Used for**: Database operations

#### 3. APPWRITE_PROJECT_ID
- **Description**: Appwrite project identifier
- **Value**: `college-football-fantasy-app`
- **Used for**: Identifying the project

#### 4. APPWRITE_DATABASE_ID
- **Description**: Appwrite database identifier
- **Value**: `college-football-fantasy`
- **Used for**: Database operations

#### 5. APPWRITE_API_KEY
- **Description**: Server-side Appwrite API key (with full permissions)
- **Value**: Get from Appwrite Console → Settings → API Keys
- **Used for**: Server-side database operations
- **Required Scopes**: All database operations

#### 6. CRON_SECRET
- **Description**: Secret for authenticating cron jobs
- **Value**: Generate a random string (e.g., `openssl rand -hex 32`)
- **Used for**: Securing cron endpoints

#### 7. ROTOWIRE_USERNAME
- **Description**: Rotowire login email
- **Value**: Your Rotowire email
- **Used for**: Rotowire data sync

#### 8. ROTOWIRE_PASSWORD_ENCRYPTED
- **Description**: Encrypted Rotowire password
- **Value**: Run `npm run setup:rotowire` to generate
- **Used for**: Rotowire authentication

#### 9. ROTOWIRE_ENCRYPTION_KEY
- **Description**: Key for decrypting Rotowire password
- **Value**: Generated by setup script
- **Used for**: Rotowire security

### Optional Secrets

#### ODDS_API_KEY
- **Description**: The Odds API key for betting lines
- **Value**: Get from https://the-odds-api.com/
- **Used for**: Future betting features

#### SENTRY_AUTH_TOKEN
- **Description**: Sentry authentication token
- **Value**: Get from Sentry dashboard
- **Used for**: Error tracking

## Verifying Setup

Run this command to check if workflows are properly configured:

```bash
gh secret list
```

## Security Notes

1. **Never commit secrets to code**
2. **Rotate API keys periodically**
3. **Use least-privilege principle for API keys**
4. **Monitor usage for unusual activity**

## Troubleshooting

### Workflow fails with "Unauthorized"
- Check if all secrets are properly set
- Verify API keys are valid and not expired
- Ensure no extra spaces in secret values

### Data sync not working
- Check GitHub Actions logs
- Verify CFBD API key has proper permissions
- Ensure Appwrite API key is server-side key

### Rotowire sync fails
- Verify credentials are correct
- Check if account has active subscription
- Ensure encryption key matches encrypted password
